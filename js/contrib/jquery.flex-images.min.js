// jQuery flexImages v1.0.2
// https://github.com/Pixabay/jQuery-flexImages
!function(t){function e(t,a,r,n){function o(t){r.maxRows&&d>r.maxRows||r.truncate&&t&&d>1?w[l][0].style.display="none":(w[l][5]&&(w[l][4].attr("src",w[l][5]),w[l][5]=""),w[l][0].style.width=g+"px",w[l][0].style.height=u+"px",w[l][0].style.display="block")}var l,g,s=1,d=1,f=t.width(),w=[],c=0,u=r.rowHeight;for(f||(f=t.width()),i=0;i<a.length;i++)if(w.push(a[i]),c+=a[i][3]+r.margin,c>=f){for(s=f/c,u=Math.ceil(r.rowHeight*s),exact_w=0,g,l=0;l<w.length;l++)g=Math.ceil(w[l][3]*s),exact_w+=g+r.margin,exact_w>f&&(g-=exact_w-f+1),o();w=[],c=0,d++}for(l=0;l<w.length;l++)g=Math.floor(w[l][3]*s),h=Math.floor(r.rowHeight*s),o(!0);n||f==t.width()||e(t,a,r,!0)}t.fn.flexImages=function(a){var i=t.extend({container:".item",object:"img",rowHeight:180,maxRows:0,truncate:0},a);return this.each(function(){var a=t(this),r=t(a).find(i.container),n=[],o=(new Date).getTime(),h=window.getComputedStyle?getComputedStyle(r[0],null):r[0].currentStyle;for(i.margin=(parseInt(h.marginLeft)||0)+(parseInt(h.marginRight)||0)+(Math.round(parseFloat(h.borderLeftWidth))||0)+(Math.round(parseFloat(h.borderRightWidth))||0),j=0;j<r.length;j++){var l=r[j],g=parseInt(l.getAttribute("data-w")),s=parseInt(l.getAttribute("data-h")),d=g*(i.rowHeight/s),f=t(l).find(i.object);n.push([l,g,s,d,f,f.data("src")])}e(a,n,i),t(window).off("resize.flexImages"+a.data("flex-t")),t(window).on("resize.flexImages"+o,function(){e(a,n,i)}),a.data("flex-t",o)})}}(jQuery);